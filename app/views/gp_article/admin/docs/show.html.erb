<table class="show">
  <tr>
    <th><%= @item.locale :id %></th>
    <td><%= @item.id %></td>
  </tr>
  <tr>
    <th><%= @item.locale :name %></th>
    <td><%= @item.name %></td>
  </tr>
  <tr>
    <th><%= @item.locale :public_full_uri %></th>
    <td><%= @item.public_full_uri %></td>
  </tr>
  <tr>
    <th><%= @item.locale :title %></th>
    <td><%= @item.title %></td>
  </tr>
</table>

<table class="show">
  <tr>
    <th><%= @item.locale :href %></th>
    <td>
      <%= link_to_unless(@item.target == 'attached_file', @item.href, @item.href, target: '_blank') %>
      <span style="<%= 'margin-left: 10px;' unless @item.href.blank? %>"><%= @item.class::TARGET_OPTIONS.detect{|to| to.last == @item.target }.try(:first) %></span>
    </td>
  </tr>
  <tr>
    <th><%= @item.locale :subtitle %></th>
    <td><%=simple_format @item.subtitle %></td>
  </tr>
  <tr>
    <th><%= @item.locale :summary %></th>
    <td><%=simple_format @item.summary %></td>
  </tr>
</table>

<table class="show">
  <tr>
    <th><%= @item.locale :body %></th>
  </tr>
  <tr>
    <td><%=raw @item.body.gsub('"file_contents/', %Q("#{gp_article_doc_path(@content, id: @item.id)}/file_contents/)) %></td>
  </tr>
</table>

<p class="form">記事設定</p>

<%- unless @category_types.empty? -%>
<table class="show">
  <%- @category_types.each do |category_type| -%>
  <tr>
    <th><%= category_type.title %></th>
    <td><%= @item.categories.where(category_type_id: category_type.id).map(&:title).join(', ') %></td>
  </tr>
  <%- end -%>
</table>
<%- end -%>

<table class="show">
  <tr>
    <th><%= @item.locale :raw_tags %></th>
    <td><%= @item.raw_tags %></td>
  </tr>
  <tr>
    <th><%= @item.locale :in_rel_doc_ids %></th>
    <td>
      <% @item.rel_docs.each {|doc| %><div style="margin-top: 10px; width: 700px;"><%= doc.title %></div><% } %>
    </td>
  </tr>
</table>

<%- if @content.display_dates(:published_at) || @content.display_dates(:updated_at) -%>
<p class="form">表示日時設定</p>

<table class="show">
  <%- if @content.display_dates(:published_at) -%>
  <tr>
    <th>公開日時</th>
    <td><%=l @item.display_published_at rescue '' %></td>
  </tr>
  <%- end -%>
  <%- if @content.display_dates(:updated_at) -%>
  <tr>
    <th>最終更新日時</th>
    <td><%=l @item.display_updated_at rescue '' %></td>
  </tr>
  <%- end -%>
</table>
<%- end -%>

<%= task_view @item %>

<p class="form">連絡先</p>

<%= inquiry_view @item %>

<p class="form">承認</p>

<%= recognizer_view @item %>

<p class="form">イベント</p>

<table class="show">
  <tr>
    <th><%= @item.locale :event_state %></th>
    <td><%= @item.class::EVENT_STATE_OPTIONS.detect{|o| o.last == @item.event_state }.try(:first) %></td>
  </tr>
  <tr>
    <th><%= @item.locale :event_started_on %></th>
    <td><%= @item.event_started_on %></td>
  </tr>
  <tr>
    <th><%= @item.locale :event_ended_on %></th>
    <td><%= @item.event_ended_on %></td>
  </tr>
</table>

<p class="form">地図</p>

<table class="show">
  <tr>
    <th><%= @item.locale :marker_state %></th>
    <td><%= @item.class::MARKER_STATE_OPTIONS.detect{|o| o.last == @item.marker_state }.try(:first) %></td>
  </tr>
  <%- @marker_category_types.each do |category_type| -%>
  <tr>
    <th><%= category_type.title %></th>
    <td><%= @item.marker_categories.where(category_type_id: category_type.id).map(&:title).join(', ') %></td>
  </tr>
  <%- end -%>
</table>

<%= google_map_view @item %>

<p class="form">携帯向け</p>

<table class="show">
  <tr>
    <th><%= @item.locale :mobile_title %></th>
    <td><%= @item.mobile_title %></td>
  </tr>
  <tr>
    <th colspan="2"><%= @item.locale :mobile_body %></th>
  </tr>
  <tr>
    <td colspan="2"><%=raw @item.mobile_body.gsub('"file_contents/', %Q("#{gp_article_doc_path(@content, id: @item.id)}/file_contents/)) %></td>
  </tr>
</table>

<p class="form">基本設定</p>

<table class="show">
  <tr>
    <th>表示端末</th>
    <td>
      <%= @item.locale :terminal_pc_or_smart_phone if @item.terminal_pc_or_smart_phone %>
      <%= @item.locale :terminal_mobile if @item.terminal_mobile %>
    </td>
  </tr>
</table>

<%= editable_group_view @item %>
<%= creator_view @item %>
